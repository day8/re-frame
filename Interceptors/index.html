


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Derived data, flowing">
      
      
        <link rel="canonical" href="https://day8.github.io/re-frame/Interceptors/">
      
      
        <meta name="author" content="Mike Thompson">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
    
    <title>Interceptors</title>
    

    
      <link rel="stylesheet" href="../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#2094f3">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CSource+Code+Pro&display=fallback">
        <style>body,input{font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Source Code Pro",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,300;0,500;1,400&display=swap">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200;300;400&display=swap">
    
      <link rel="stylesheet" href="../stylesheets/dominoes-live.css">
    
      <link rel="stylesheet" href="../stylesheets/mkdocs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#why-interceptors" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Application header -->
<header class="md-header" data-md-component="header">

  <!-- Top-level navigation -->
  <nav class="md-header-nav md-grid" aria-label="Header">

    <!-- Link to home -->
    <a
      href="https://day8.github.io/re-frame/"
      title="re-frame"
      class="md-header-nav__button md-logo"
      aria-label="re-frame"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"/></svg>

    </a>

    <!-- Button to open drawer -->
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            re-frame
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Interceptors
            
          </span>
        </div>
      
    </div>

    <!-- Button to open search dialogue -->
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>

      <!-- Search interface -->
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository containing source -->
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/day8/re-frame/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    day8/re-frame
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../re-frame/" class="md-tabs__link md-tabs__link--active">
          Docs
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../FAQs/Inspecting-app-db/" class="md-tabs__link">
          FAQs
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../api-intro/" class="md-tabs__link">
          API
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../releases/2023/" class="md-tabs__link">
          Releases
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../External-Resources/" class="md-tabs__link">
          Resources
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://day8.github.io/re-frame/" title="re-frame" class="md-nav__button md-logo" aria-label="re-frame">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"/></svg>

    </a>
    re-frame
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/day8/re-frame/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    day8/re-frame
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Docs
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Docs" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../re-frame/" title="re-frame" class="md-nav__link">
      re-frame
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      THE BASICS
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="THE BASICS" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        THE BASICS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../a-loop/" title="A Data Loop" class="md-nav__link">
      A Data Loop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../application-state/" title="State" class="md-nav__link">
      State
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dominoes-30k/" title="Code" class="md-nav__link">
      Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../event-handling-infographic/" title="Infographics" class="md-nav__link">
      Infographics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../subscriptions/" title="Subscriptions" class="md-nav__link">
      Subscriptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dominoes-live/" title="Live" class="md-nav__link">
      Live
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3" checked>
    
    <label class="md-nav__link" for="nav-2-3">
      INTERMEDIATE 2 & 3
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="INTERMEDIATE 2 & 3" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        INTERMEDIATE 2 & 3
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../EffectfulHandlers/" title="Effectful Handlers" class="md-nav__link">
      Effectful Handlers
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Interceptors
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Interceptors" class="md-nav__link md-nav__link--active">
      Interceptors
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-interceptors" class="md-nav__link">
    Why Interceptors?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-do-interceptors-do" class="md-nav__link">
    What Do Interceptors Do?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wait-i-know-that-pattern" class="md-nav__link">
    Wait, I know That Pattern!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-in-the-pipeline" class="md-nav__link">
    What's In The Pipeline?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-me" class="md-nav__link">
    Show Me
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handlers-are-interceptors-too" class="md-nav__link">
    Handlers Are Interceptors Too
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-links-of-the-chain" class="md-nav__link">
    The Links Of The Chain
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-context" class="md-nav__link">
    What Is Context?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#threading-the-context" class="md-nav__link">
    Threading the Context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#infographics" class="md-nav__link">
    Infographics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#self-modifying" class="md-nav__link">
    Self Modifying
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#self-documenting" class="md-nav__link">
    Self Documenting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#credit" class="md-nav__link">
    Credit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lets-write-an-interceptor" class="md-nav__link">
    Let's Write An Interceptor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wrapping-handlers" class="md-nav__link">
    Wrapping Handlers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-built-in-interceptors" class="md-nav__link">
    Appendix - Built-in Interceptors
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Effects/" title="Effects" class="md-nav__link">
      Effects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Coeffects/" title="Coeffects" class="md-nav__link">
      Coeffects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Flows/" title="Flows" class="md-nav__link">
      Flows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../review-todomvc/" title="Review TodoMVC" class="md-nav__link">
      Review TodoMVC
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      INTERMEDIATE 4,5 & 6
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="INTERMEDIATE 4,5 & 6" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        INTERMEDIATE 4,5 & 6
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../correcting-a-wrong/" title="Correcting a wrong" class="md-nav__link">
      Correcting a wrong
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../flow-mechanics/" title="Flow Mechanics" class="md-nav__link">
      Flow Mechanics
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../start-coding/" title="START CODING" class="md-nav__link">
      START CODING
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      MENTAL MODEL OMNIBUS
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="MENTAL MODEL OMNIBUS" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        MENTAL MODEL OMNIBUS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../all-models-are-wrong/" title="Other Models" class="md-nav__link">
      Other Models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../on-dynamics/" title="On Dynamics" class="md-nav__link">
      On Dynamics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../data-oriented-design/" title="Data Oriented Design" class="md-nav__link">
      Data Oriented Design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../interconnections/" title="Interconnections" class="md-nav__link">
      Interconnections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../historical/" title="Historical" class="md-nav__link">
      Historical
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7" type="checkbox" id="nav-2-7">
    
    <label class="md-nav__link" for="nav-2-7">
      MORE ADVANCED
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="MORE ADVANCED" data-md-level="2">
      <label class="md-nav__title" for="nav-2-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        MORE ADVANCED
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../flows-advanced-topics/" title="Flows - advanced topics" class="md-nav__link">
      Flows - advanced topics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../on-stable-dom-handlers/" title="Stable Dom Handlers" class="md-nav__link">
      Stable Dom Handlers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../browser-dynamics/" title="Browser Dynamics" class="md-nav__link">
      Browser Dynamics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reusable-components/" title="Reusable Components" class="md-nav__link">
      Reusable Components
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../App-Structure/" title="App Structure" class="md-nav__link">
      App Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Loading-Initial-Data/" title="Loading Initial Data" class="md-nav__link">
      Loading Initial Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Talking-To-Servers/" title="Talking To Servers" class="md-nav__link">
      Talking To Servers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Subscribing-To-External-Data/" title="Subscribing to External Data" class="md-nav__link">
      Subscribing to External Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Debugging/" title="Debugging" class="md-nav__link">
      Debugging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Testing/" title="Testing" class="md-nav__link">
      Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Performance-Problems/" title="Eek! Performance Problems" class="md-nav__link">
      Eek! Performance Problems
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Solve-the-CPU-hog-problem/" title="Solve the CPU hog problem" class="md-nav__link">
      Solve the CPU hog problem
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Using-Stateful-JS-Components/" title="Using Stateful JS Components" class="md-nav__link">
      Using Stateful JS Components
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../The-re-frame-logo/" title="The Logo Backstory" class="md-nav__link">
      The Logo Backstory
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      FAQs
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="FAQs" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        FAQs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/Inspecting-app-db/" title="How can I Inspect app-db?" class="md-nav__link">
      How can I Inspect app-db?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/BestPractice/" title="What Is Best Practice?" class="md-nav__link">
      What Is Best Practice?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/LoadOnMount/" title="How Do I Load On Mount?" class="md-nav__link">
      How Do I Load On Mount?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/DoINeedReFrame/" title="Reagent looks terrific. Why do I need re-frame?" class="md-nav__link">
      Reagent looks terrific. Why do I need re-frame?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/FocusOnElement/" title="How to focus on an HTML element" class="md-nav__link">
      How to focus on an HTML element
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/GlobalInterceptors/" title="How do I register a global interceptor" class="md-nav__link">
      How do I register a global interceptor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/laggy-input/" title="Why is my input field laggy?" class="md-nav__link">
      Why is my input field laggy?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/When-Does-Dispatch-Happen/" title="How long after I do a dispatch does the event get handled?" class="md-nav__link">
      How long after I do a dispatch does the event get handled?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/UseASubscriptionInAnEventHandler/" title="How can I use a subscription in an Event Handler" class="md-nav__link">
      How can I use a subscription in an Event Handler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/use-cofx-as-fx/" title="Why can't I turn a `cofx` map into an `fx` map?" class="md-nav__link">
      Why can't I turn a `cofx` map into an `fx` map?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/Logging/" title="How do I use logging method X" class="md-nav__link">
      How do I use logging method X
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/Null-Dispatched-Events/" title="Dispatched Events Are Null" class="md-nav__link">
      Dispatched Events Are Null
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/Why-Clear-Sub-Cache/" title="Why do we need to clear the subscription cache when reloading with Figwheel?" class="md-nav__link">
      Why do we need to clear the subscription cache when reloading with Figwheel?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/PollADatabaseEvery60/" title="How do I turn on/off polling a database every 60 secs" class="md-nav__link">
      How do I turn on/off polling a database every 60 secs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/ViewsOnGlobalRegistration/" title="re-frame uses side-effecting registrations. Should I feel dirty?" class="md-nav__link">
      re-frame uses side-effecting registrations. Should I feel dirty?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/Why-CLJC/" title="Why is re-frame implemented in `.cljc` files" class="md-nav__link">
      Why is re-frame implemented in `.cljc` files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/DB_Normalisation/" title="How do I store normalised data in app-db?" class="md-nav__link">
      How do I store normalised data in app-db?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/FullStackReframe/" title="How do I do full-stack re-frame?" class="md-nav__link">
      How do I do full-stack re-frame?
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      API
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="API" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api-intro/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api-builtin-effects/" title="Builtin Effects" class="md-nav__link">
      Builtin Effects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api-re-frame.core/" title="re-frame.core" class="md-nav__link">
      re-frame.core
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api-re-frame.alpha/" title="re-frame.alpha" class="md-nav__link">
      re-frame.alpha
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Releases
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Releases" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Releases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2023/" title="2023" class="md-nav__link">
      2023
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2022/" title="2022" class="md-nav__link">
      2022
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2021/" title="2021" class="md-nav__link">
      2021
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2020/" title="2020" class="md-nav__link">
      2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2019/" title="2019" class="md-nav__link">
      2019
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2018/" title="2018" class="md-nav__link">
      2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2017/" title="2017" class="md-nav__link">
      2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2016/" title="2016" class="md-nav__link">
      2016
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2015/" title="2015" class="md-nav__link">
      2015
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Resources
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Resources" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Resources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../External-Resources/" title="Resources" class="md-nav__link">
      Resources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-interceptors" class="md-nav__link">
    Why Interceptors?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-do-interceptors-do" class="md-nav__link">
    What Do Interceptors Do?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wait-i-know-that-pattern" class="md-nav__link">
    Wait, I know That Pattern!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-in-the-pipeline" class="md-nav__link">
    What's In The Pipeline?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-me" class="md-nav__link">
    Show Me
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handlers-are-interceptors-too" class="md-nav__link">
    Handlers Are Interceptors Too
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-links-of-the-chain" class="md-nav__link">
    The Links Of The Chain
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-context" class="md-nav__link">
    What Is Context?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#threading-the-context" class="md-nav__link">
    Threading the Context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#infographics" class="md-nav__link">
    Infographics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#self-modifying" class="md-nav__link">
    Self Modifying
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#self-documenting" class="md-nav__link">
    Self Documenting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#credit" class="md-nav__link">
    Credit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lets-write-an-interceptor" class="md-nav__link">
    Let's Write An Interceptor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wrapping-handlers" class="md-nav__link">
    Wrapping Handlers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-built-in-interceptors" class="md-nav__link">
    Appendix - Built-in Interceptors
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/day8/re-frame/edit/master/docs/Interceptors.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                  <h1>Interceptors</h1>
                
                <p>This tutorial explains re-frame <code>Interceptors</code>. Until now, they have been a hidden detail
but, as we are about to find out, they are both important and useful. </p>
<h2 id="why-interceptors">Why Interceptors?<a class="headerlink" href="#why-interceptors" title="Permanent link">&para;</a></h2>
<p>There's two reasons.</p>
<ol>
<li>
<p>We want <strong>simple event handlers</strong>. <br />
   Interceptors allow us nicely to look after "cross-cutting" concerns like undo, tracing 
   and validation.  They help us to factor out commonality, hide complexity and introduce
   further steps into the "Derived Data, Flowing" story promoted by re-frame.
   So, you'll want to use Interceptors because they solve problems, and help you to write nice code.</p>
</li>
<li>
<p>Under the covers, Interceptors provide <strong>the</strong> mechanism underneath Domino 2 (event handling) 
   and Domino 3 (effect handling). They are a central concept and understanding them better will serve you well, even if you don't need to directly use them very often. </p>
</li>
</ol>
<h2 id="what-do-interceptors-do">What Do Interceptors Do?<a class="headerlink" href="#what-do-interceptors-do" title="Permanent link">&para;</a></h2>
<p>They wrap.</p>
<p>Specifically, they wrap event handlers.</p>
<p>Imagine your event handler is like a piece of ham. An interceptor would be
like bread on either side of your ham, which makes a sandwich.</p>
<p>And two Interceptors, in a chain, would be like you put another
pair of bread slices around the outside of the existing sandwich to make
a sandwich of the sandwich. Now it is a very thick sandwich.</p>
<p>Interceptors wrap on both sides of an event handler, layer after layer.</p>
<h2 id="wait-i-know-that-pattern">Wait, I know That Pattern!<a class="headerlink" href="#wait-i-know-that-pattern" title="Permanent link">&para;</a></h2>
<p>Interceptors implement <code>middleware</code>, but differently.</p>
<p>Traditional <code>middleware</code> - often seen in web servers - creates a data
processing pipeline (to process arriving HTTP requests) via the nested composition of higher order functions.
The result is a "stack" of functions. Data representing a request flows through this pipeline,
first forwards from one end to the other, and then backwards (as the response).</p>
<p>Interceptors achieve the same outcome by assembling functions, as data,
in a collection - a chain of interceptors, rather than a stack of middleware. 
Data can then be iteratively
pipelined, first forwards through the functions in the chain,
and then backwards along the same chain.</p>
<p>Because the interceptor pipeline is composed via a collection (data!), rather than
higher order functions, it is a more flexible arrangement.</p>
<h2 id="whats-in-the-pipeline">What's In The Pipeline?<a class="headerlink" href="#whats-in-the-pipeline" title="Permanent link">&para;</a></h2>
<p>Data. It flows through the pipeline being progressively transformed.</p>
<p>Fine. But what data?</p>
<p>With a web server, the middleware "stack" progressively
transforms an <code>HTTP request</code> in one direction, and, then in the backwards
sweep, it progressively produces a <code>response</code>.</p>
<p>In re-frame, the forward sweep progressively creates <code>coeffects</code>
(inputs to the event handler that you write), while the backwards sweep processes the <code>effects</code>
(outputs from the event handler you write).</p>
<p>I'll pause while you read that sentence again. That's the key
concept, right there.</p>
<h2 id="show-me">Show Me<a class="headerlink" href="#show-me" title="Permanent link">&para;</a></h2>
<p>At the time when you register an event handler, you can provide a chain of interceptors too.</p>
<p>Using a 3-arity registration function:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-db</span>
   <span class="ss">:some-id</span>
   <span class="p">[</span><span class="nv">in1</span> <span class="nv">in2</span><span class="p">]</span>       <span class="c1">;; &lt;-- a chain of 2 interceptors (a vector of 2 interceptors)</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">db</span> <span class="nv">v</span><span class="p">]</span>      <span class="c1">;; &lt;-- the handler here, as before</span>
      <span class="nv">....</span><span class="p">)))</span>
</code></pre></div>


<div class="admonition note">
<p>Each Event Handler can have its own tailored interceptor chain, provided at registration-time.</p>
</div>
<h2 id="handlers-are-interceptors-too">Handlers Are Interceptors Too<a class="headerlink" href="#handlers-are-interceptors-too" title="Permanent link">&para;</a></h2>
<p>You could see that registration above as associating <code>:some-id</code> with
two things:</p>
<ol>
<li>a chain of 2 interceptors <code>[in1 in2]</code></li>
<li>an <code>event handler</code>.</li>
</ol>
<p>Except, the <code>event handler</code> is turned into an interceptor too (we'll see how shortly).</p>
<p>So, <strong><em>actually</em></strong>, <code>:some-id</code> is only associated with one thing: a 3-chain of interceptors,
with the <code>event handler</code> wrapped in an interceptor, called say <code>ih</code>, and put on the
end of the other two, forming a vector of three interceptors: <code>[in1 in2 ih]</code>.</p>
<p>But wait, there's more. The registration function itself, <code>reg-event-db</code>, actually takes this 3-chain
and inserts its own standard interceptors, called say <code>std1</code> and <code>std2</code>
(which do useful things, again more soon) at the front,
so <strong>ACTUALLY</strong>, there's about 5 interceptors in the chain: <code>[std1 std2 in1 in2 ih]</code></p>
<p>So, ultimately, that event registration associates the event id <code>:some-id</code>
with <strong>just</strong> a chain of interceptors. Nothing more.</p>
<p>Later, when a <code>(dispatch [:some-id ...])</code> happens, that 5-chain of
interceptors will be "executed".  And that's how an event gets handled.</p>
<h2 id="the-links-of-the-chain">The Links Of The Chain<a class="headerlink" href="#the-links-of-the-chain" title="Permanent link">&para;</a></h2>
<p>Each interceptor has this form:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="ss">:id</span>      <span class="ss">:something</span>             <span class="c1">;; decorative only - can be ignored</span>
 <span class="ss">:comment</span> <span class="p">{</span><span class="nv">...</span><span class="p">}</span>                  <span class="c1">;; also decorative, optional</span>
 <span class="ss">:before</span>  <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">context</span><span class="p">]</span> <span class="nv">...</span><span class="p">)</span>     <span class="c1">;; returns a possibly modified `context`</span>
 <span class="ss">:after</span>   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">context</span><span class="p">]</span> <span class="nv">...</span><span class="p">)}</span>    <span class="c1">;; returns a possibly modified `context`</span>
</code></pre></div>


<p>That's essentially a map of two functions (a before function and an after function). Now imagine a vector of these maps - that's an interceptor chain.</p>
<p>Above we imagined an interceptor chain of <code>[std1 std2 in1 in2 ih]</code>. Now we know that this is really
a vector of 5 maps: <code>[{...} {...} {...} {...} {...}]</code>  where each of the 5 maps have
a <code>:before</code> and <code>:after</code> fn.</p>
<p>Sometimes, the <code>:before</code> and <code>:after</code> functions are noops - they take a <code>context</code> and return that <code>context</code> unchanged - think <code>identity</code>.</p>
<p>To "execute" an interceptor chain:</p>
<ol>
<li>create a <code>context</code> (which is a <code>map</code> with a certain structure, described below)</li>
<li>iterate forwards over the chain, calling the <code>:before</code> function on each interceptor, threading <code>context</code> through each call. </li>
<li>iterate over the chain in the opposite (backwards) direction calling the <code>:after</code> function on each interceptor and threading <code>context</code> through all the calls</li>
</ol>
<p>Remember that the last interceptor in the chain is the <code>event handler</code> itself (wrapped up to be the <code>:before</code>).</p>
<p>That's it. That's how an event gets handled. This is how Dominoes 2 and 3 happen. </p>
<h2 id="what-is-context">What Is Context?<a class="headerlink" href="#what-is-context" title="Permanent link">&para;</a></h2>
<p>Some data called a <code>context</code> is threaded through all the calls.</p>
<p>This value is passed as the argument to every <code>:before</code> and <code>:after</code>
function and it is returned by each function, possibly modified.</p>
<p>A <code>context</code> is a map with this structure:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="ss">:coeffects</span> <span class="p">{</span><span class="ss">:event</span> <span class="p">[</span><span class="ss">:some-id</span> <span class="ss">:some-param</span><span class="p">]</span>
             <span class="ss">:db</span>    <span class="nv">&lt;original</span> <span class="nv">contents</span> <span class="nv">of</span> <span class="nv">app-db&gt;</span><span class="p">}</span>

 <span class="ss">:effects</span>   <span class="p">{</span><span class="ss">:db</span>    <span class="nv">&lt;new</span> <span class="nv">value</span> <span class="nb">for </span><span class="nv">app-db&gt;</span>
             <span class="ss">:dispatch</span>  <span class="p">[</span><span class="ss">:an-event-id</span> <span class="ss">:param1</span><span class="p">]}</span>

 <span class="ss">:queue</span>     <span class="nv">&lt;a</span> <span class="nv">collection</span> <span class="nv">of</span> <span class="nv">further</span> <span class="nv">interceptors&gt;</span>
 <span class="ss">:stack</span>     <span class="nv">&lt;a</span> <span class="nv">collection</span> <span class="nv">of</span> <span class="nv">interceptors</span> <span class="nv">already</span> <span class="nv">walked&gt;</span><span class="p">}</span>
</code></pre></div>


<p><code>context</code> has a <code>:coeffects</code> key and an <code>:effects</code> key which, if this was a web
server, would be somewhat analogous to <code>request</code> and <code>response</code>
respectively.</p>
<p><code>:coeffects</code> will contain the inputs required by the event handler
(sitting presumably on the end of the chain). So that's
data like the <code>:event</code> being processed, and the initial state of <code>db</code>.</p>
<p>The handler-returned side effects are put into <code>:effects</code> including,
but not limited to, a new value for <code>app-db</code>.</p>
<p>The first few interceptors in a chain (the ones inserted by <code>reg-event-db</code>)
have <code>:before</code> functions which <strong>prime</strong> the <code>:coeffects</code>
by adding in <code>:event</code>, and <code>:db</code>.  Of course, other interceptors can
add further to <code>:coeffects</code>.  Perhaps the event handler needs
data from localstore, or a random number, or a
DataScript connection. Interceptors can accumulate interesting information into 
<code>:coeffects</code>, via their <code>:before</code> function.</p>
<p>Equally, some interceptors in the chain will have an <code>:after</code> function
which processes the side effects accumulated into <code>:effects</code>
including, but not limited to, updates to <code>app-db</code>.</p>
<h2 id="threading-the-context">Threading the Context<a class="headerlink" href="#threading-the-context" title="Permanent link">&para;</a></h2>
<p>Above, we imagined an interceptor chain like: <code>[std1 std2 in1 in2 ih]</code>.
One way to imagine the whole event handling process would be to see it written like this:</p>
<div class="codehilite"><pre><span></span><code> <span class="c1">;; start by creating a context map </span>
<span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">context</span> <span class="p">{</span><span class="ss">:coeffects</span> <span class="p">{}</span>  <span class="ss">:effects</span> <span class="p">{}</span> <span class="nv">...</span><span class="p">}]</span>

  <span class="p">(</span><span class="nb">-&gt; </span><span class="nv">context</span>              
    <span class="c1">;; Thread `context` through all the `:before` functions.</span>
    <span class="c1">;; This phase is usually concerned with building up `:coeffects`</span>
    <span class="p">((</span><span class="ss">:before</span> <span class="nv">std1</span><span class="p">)</span> <span class="p">)</span>    <span class="c1">;; noop </span>
    <span class="p">((</span><span class="ss">:before</span> <span class="nv">std2</span><span class="p">)</span> <span class="p">)</span>    <span class="c1">;; adds `:event` and `:db` to `:coeffects`</span>
    <span class="p">((</span><span class="ss">:before</span> <span class="nv">in1</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">((</span><span class="ss">:before</span> <span class="nv">in2</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">((</span><span class="ss">:before</span> <span class="nv">ih</span><span class="p">)</span> <span class="p">)</span>      <span class="c1">;; Domino 2 - handler called &amp; return value put into `:effects`</span>

    <span class="c1">;; Now backwards through the `:after` functions</span>
    <span class="c1">;; This phase is usually concerned with building up or processing `:effects`</span>
    <span class="c1">;; But could involve side effects like logging, or undo/redo state actions, etc</span>
    <span class="p">((</span><span class="ss">:after</span>  <span class="nv">ih</span><span class="p">)</span> <span class="p">)</span>      <span class="c1">;; noop</span>
    <span class="p">((</span><span class="ss">:after</span>  <span class="nv">in2</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">((</span><span class="ss">:after</span>  <span class="nv">in1</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">((</span><span class="ss">:after</span>  <span class="nv">std2</span><span class="p">)</span> <span class="p">)</span>    <span class="c1">;; noop</span>
    <span class="p">((</span><span class="ss">:after</span>  <span class="nv">std1</span><span class="p">)</span> <span class="p">)</span>    <span class="c1">;; Domino 3 - all the `:effects` are processed </span>
</code></pre></div>


<h2 id="infographics">Infographics<a class="headerlink" href="#infographics" title="Permanent link">&para;</a></h2>
<p><a href="../images/interceptors.png">
  <img src="../images/interceptors.png">
</a></p>
<h2 id="self-modifying">Self Modifying<a class="headerlink" href="#self-modifying" title="Permanent link">&para;</a></h2>
<p>There's something not shown in the above schematic. 
Through both stages (the <code>:before</code> sweep and the <code>:after</code> sweep), 
<code>context</code> <strong>also</strong> contains a <code>:queue</code> key which is the queue
interceptors yet to be processed, and a <code>:stack</code> key which is vector of<br />
of the interceptors already done.</p>
<p>In advanced cases, these two values, within a <code>context</code>, can be modified by the 
<code>:before</code> and <code>:after</code> functions through which the <code>context</code> is threaded.</p>
<p>So interceptors can be dynamically added
and removed from <code>:queue</code> and <code>:stack</code> by Interceptors already in the chain.</p>
<h2 id="self-documenting">Self Documenting<a class="headerlink" href="#self-documenting" title="Permanent link">&para;</a></h2>
<p>An interceptor has a required <code>:id</code> key, and an optional <code>:comment</code> key.
Re-frame itself does not take any special action in response to these keys.
Instead, they can offer situational awareness to you or your tools.
For instance, the <a href="#appendix-built-in-interceptors">standard interceptor</a>
<strong>path</strong> adds a <code>:comment</code> describing <em>which</em> path it goes to.</p>
<h2 id="credit">Credit<a class="headerlink" href="#credit" title="Permanent link">&para;</a></h2>
<blockquote>
<p>All truths are easy to understand once they are discovered <br>
  -- Galileo Galilei</p>
</blockquote>
<p>This elegant and flexible arrangement was originally
designed by the <a href="https://github.com/pedestal/pedestal/blob/master/guides/documentation/service-interceptors.md">Pedestal Team</a>. Thanks!</p>
<h2 id="lets-write-an-interceptor">Let's Write An Interceptor<a class="headerlink" href="#lets-write-an-interceptor" title="Permanent link">&para;</a></h2>
<p>Dunno about you, but I'm easily offended by underscores.</p>
<p>Imagine we had a view which did this:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">dispatch</span> <span class="p">[</span><span class="ss">:delete-item</span> <span class="mi">42</span><span class="p">])</span>
</code></pre></div>


<p>We'd have to write this event handler:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-db</span>
  <span class="ss">:delete-item</span>
  <span class="p">(</span><span class="nf">fn</span>
     <span class="p">[</span><span class="nv">db</span> <span class="p">[</span><span class="nv">_</span> <span class="nv">key-to-delete</span><span class="p">]]</span>     <span class="c1">;;  &lt;---- Arrgggghhh underscore</span>
     <span class="p">(</span><span class="nb">dissoc </span><span class="nv">db</span> <span class="nv">key-to-delete</span><span class="p">)))</span>
</code></pre></div>


<p>Do you see it there? That <code>_</code> in the event destructuring!!! Almost mocking us with that
passive aggressive, understated thing it has going on!! Co-workers
have said I'm "being overly sensitive", perhaps even pixel-ist, but
you can see it too, right? Of course you can.</p>
<p>What a relief it would be to not have it there, but how? We'll write an interceptor: <code>trim-event</code></p>
<p>Once we have written <code>trim-event</code>, our registration will change to look like this:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-db</span>
  <span class="ss">:delete-item</span>
  <span class="p">[</span><span class="nv">trim-event</span><span class="p">]</span>                <span class="c1">;;  &lt;--- interceptor added</span>
  <span class="p">(</span><span class="nf">fn</span>
     <span class="p">[</span><span class="nv">db</span> <span class="p">[</span><span class="nv">key-to-delete</span><span class="p">]]</span>     <span class="c1">;;  &lt;---yaaah!  no leading underscore</span>
     <span class="p">(</span><span class="nb">dissoc </span><span class="nv">db</span> <span class="nv">key-to-delete</span><span class="p">)))</span>
</code></pre></div>


<p><code>trim-event</code> will need to change the <code>:coeffects</code> map (within <code>context</code>).  Specifically, it will be
changing the <code>:event</code> value within the <code>:coeffects</code>.</p>
<p><code>:event</code> will start off as <code>[:delete-item 42]</code>, but will end up <code>[42]</code> by the time it is supplied to the handler.
<code>trim-event</code>  will remove that
leading <code>:delete-item</code> because, by the time the event is
being processed, we already know what <code>id</code> it has.</p>
<p>And, so here it is:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="k">def </span><span class="nv">trim-event</span>
  <span class="p">(</span><span class="nf">re-frame.core/-&gt;interceptor</span>
    <span class="ss">:id</span>      <span class="ss">:trim-event</span>
    <span class="ss">:before</span>  <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">context</span><span class="p">]</span>
               <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">trim-fn</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">event</span><span class="p">]</span> <span class="p">(</span><span class="nb">-&gt; </span><span class="nv">event</span> <span class="nb">rest </span><span class="nv">vec</span><span class="p">))]</span>
                 <span class="p">(</span><span class="nf">update-in</span> <span class="nv">context</span> <span class="p">[</span><span class="ss">:coeffects</span> <span class="ss">:event</span><span class="p">]</span> <span class="nv">trim-fn</span><span class="p">)))))</span>
</code></pre></div>


<p>As you read this, look back to what a <code>context</code> looks like.</p>
<p>Notes:</p>
<ol>
<li>We use the API function <code>-&gt;interceptor</code> to create an interceptor (which is just a map)</li>
<li>Our interceptor only has a <code>:before</code> function</li>
<li>Our <code>:before</code> is given <code>context</code>.  It modifies it and returns it.</li>
<li>There is no <code>:after</code> for this Interceptor. It has nothing to do
     with the backwards processing flow of <code>:effects</code>. It is concerned only
     with <code>:coeffects</code> in the forward flow.</li>
</ol>
<h2 id="wrapping-handlers">Wrapping Handlers<a class="headerlink" href="#wrapping-handlers" title="Permanent link">&para;</a></h2>
<p>We're going well. Let's do an advanced wrapping.</p>
<p>Earlier, in the "Handlers Are Interceptors Too" section, I explained that <code>event handlers</code>
are wrapped in an Interceptor and placed on the end of an Interceptor chain.  Remember the
whole <code>[std1 std2 in1 in2 ih]</code> thing?</p>
<p>We'll now look at the <code>ih</code> bit. How does an <code>event handler</code> get wrapped to be an Interceptor?</p>
<p>Reminder - there's two kinds of event handler:</p>
<ul>
<li>the <code>-db</code> variety registered by <code>reg-event-db</code></li>
<li>the <code>-fx</code> variety registered by <code>reg-event-fx</code></li>
</ul>
<p>I'll now show how to wrap the <code>-db</code> variety.</p>
<p>Reminder: here's what a <code>-db</code> handler looks like:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">db</span> <span class="nv">event</span><span class="p">]</span>               <span class="c1">;; takes two params</span>
  <span class="p">(</span><span class="nb">assoc </span><span class="nv">db</span> <span class="ss">:flag</span> <span class="nv">true</span><span class="p">))</span>     <span class="c1">;; returns a new db</span>
</code></pre></div>


<p>So, we'll be writing a function which takes a <code>-db</code> handler as an argument, and returns an
Interceptor which wraps that handler:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="kd">defn </span><span class="nv">db-handler-&gt;interceptor</span>
  <span class="p">[</span><span class="nv">db-handler-fn</span><span class="p">]</span>
  <span class="p">(</span><span class="nf">re-frame.core/-&gt;interceptor</span>     <span class="c1">;; an API function supplied by re-frame</span>
    <span class="ss">:id</span>     <span class="ss">:db-handler</span>            <span class="c1">;; ids are decorative only</span>
    <span class="ss">:before</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">context</span><span class="p">]</span>          <span class="c1">;; this interceptor only has a `:before</span>
              <span class="p">(</span><span class="k">let </span><span class="p">[{</span><span class="ss">:keys</span> <span class="p">[</span><span class="nv">db</span> <span class="nv">event</span><span class="p">]}</span> <span class="p">(</span><span class="ss">:coeffects</span> <span class="nv">context</span><span class="p">)</span>    <span class="c1">;; extract db and event from coeffects</span>
                    <span class="nv">new-db</span> <span class="p">(</span><span class="nf">db-handler-fn</span> <span class="nv">db</span> <span class="nv">event</span><span class="p">)]</span>           <span class="c1">;; call the event handler</span>
                 <span class="p">(</span><span class="nf">assoc-in</span> <span class="nv">context</span> <span class="p">[</span><span class="ss">:effects</span> <span class="ss">:db</span><span class="p">]</span> <span class="nv">new-db</span><span class="p">))))))</span> <span class="c1">;; put db back into :effects, as `:db` effect</span>
</code></pre></div>


<p>Notes:</p>
<ol>
<li>Notice how this wrapper extracts data from the <code>context's</code> <code>:coeffects</code>
      and then calls the handler with that data  (a handler must be called with two args: <code>db</code> and <code>event</code>)</li>
<li>Equally notice how this wrapping takes the return value from <code>db-handler-fn</code>
      handler and puts it into <code>context's</code> <code>:effects</code></li>
<li>The modified <code>context</code> (it has a new <code>:effects</code>) is returned</li>
<li>This is all done in <code>:before</code>.  There is no <code>:after</code> (it is a noop).  But this
      could have been reversed with the work happening in <code>:after</code> and <code>:before</code> a noop. Shrug.
      Remember that this Interceptor will be on the end of a chain.</li>
</ol>
<p>Feeling confident?  Try writing the wrapper for <code>-fx</code> handlers - it is just a small variation.</p>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>In this tutorial, we've learned:</p>
<p><strong>1.</strong> When you register an event handler, you can supply a collection of <code>Interceptors</code>:</p>
<div class="codehilite"><pre><span></span><code> <span class="p">(</span><span class="nf">reg-event-db</span>
    <span class="ss">:some-id</span>
    <span class="p">[</span><span class="nv">in1</span> <span class="nv">in2</span><span class="p">]</span>       <span class="c1">;; &lt;-- a chain of 2 interceptors</span>
    <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">db</span> <span class="nv">v</span><span class="p">]</span>      <span class="c1">;; &lt;-- real handler here</span>
       <span class="nv">....</span><span class="p">)))</span>
</code></pre></div>


<p><strong>2.</strong> When you are registering an event handler, you are associating an event id with a chain of interceptors including:</p>
<ul>
<li>the ones you supply (optional)  <code>in1</code> and <code>in2</code></li>
<li>an extra one on the end, which wraps the event handler itself  (we called it <code>ih</code>)</li>
<li>a couple at the beginning of the chain <code>std1</code> &amp; <code>std2</code>, put there by the <code>reg-event-db</code> or <code>reg-event-fx</code>.</li>
<li>the entire interceptor chain might end up a vector of 5 - <code>[std1 std2 in1 in2 ih]</code></li>
</ul>
<p><strong>3.</strong> An Interceptor Chain is executed in two stages. First a forwards sweep in which
  all <code>:before</code> functions are called, and then second, a backwards sweep in which the
  <code>:after</code> functions are called. A <code>context</code> map will be threaded through all these calls.
  An Interceptor chain is a reified "call stack".</p>
<p><strong>4.</strong> Interceptors do interesting things to <code>context</code>:</p>
<ul>
<li>add to <code>:coeffects</code>  (data inputs to the handler)</li>
<li>process side <code>:effects</code> (returned by a handler)</li>
<li>produce logs</li>
<li>further process</li>
</ul>
<p>In the next Tutorial, we'll look at (side) Effects in more depth.  Later again, we'll look at Coeffects.</p>
<h2 id="appendix-built-in-interceptors">Appendix - Built-in Interceptors<a class="headerlink" href="#appendix-built-in-interceptors" title="Permanent link">&para;</a></h2>
<p>re-frame comes with some built-in Interceptors:</p>
<ul>
<li><strong>debug</strong>: log each event as it is processed. Shows incremental <a href="https://clojuredocs.org/clojure.data/diff"><code>clojure.data/diff</code></a> reports.</li>
<li><strong>trim-v</strong>:  a convenience. More readable handlers.</li>
</ul>
<p>And some Interceptor factories (functions that return Interceptors):</p>
<ul>
<li><strong>enrich</strong>:  perform additional computations (validations?), after the handler has run. More derived data flowing.</li>
<li><strong>after</strong>: perform side effects, after a handler has run.  Eg: use it to report if the data in <code>app-db</code> matches a schema.</li>
<li><strong>path</strong>:  a convenience. Simplifies our handlers. Acts almost like <code>update-in</code>, to get and set a subtree of the app-db. Stores the path of the subtree in its <code>:comment</code>.</li>
</ul>
<p>In addition, <a href="https://github.com/day8/re-frame-undo">a Library like re-frame-undo</a> provides an Interceptor
factory called <code>undoable</code> which checkpoints app state.</p>
<p>To use them, first require them:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="kd">ns </span><span class="nv">my.core</span>
  <span class="p">(</span><span class="ss">:require</span>
    <span class="p">[</span><span class="nv">re-frame.core</span> <span class="ss">:refer</span> <span class="p">[</span><span class="nv">debug</span> <span class="nv">path</span><span class="p">]])</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
    <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Application footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <div class="md-footer-nav">
      <nav
        class="md-footer-nav__inner md-grid"
        aria-label="Footer"
      >

        <!-- Link to previous page -->
        
          <a
            href="../EffectfulHandlers/"
            title="Effectful Handlers"
            class="md-footer-nav__link md-footer-nav__link--prev"
            rel="prev"
          >
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Effectful Handlers
              </div>
            </div>
          </a>
        

        <!-- Link to next page -->
        
          <a
            href="../Effects/"
            title="Effects"
            class="md-footer-nav__link md-footer-nav__link--next"
            rel="next"
          >
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Effects
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2015-2021 Michael Thompson
          </div>
        
      </div>

      <!-- Social links -->
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/day8" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/wazound" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
    <script src="/re-frame/js/docs.js"></script>

    </div>
    
      <script src="../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>