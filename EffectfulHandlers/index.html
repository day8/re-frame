


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Derived data, flowing">
      
      
        <link rel="canonical" href="https://day8.github.io/re-frame/EffectfulHandlers/">
      
      
        <meta name="author" content="Mike Thompson">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
    
    <title>Effectful Handlers</title>
    

    
      <link rel="stylesheet" href="../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#2094f3">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CSource+Code+Pro&display=fallback">
        <style>body,input{font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Source Code Pro",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,300;0,500;1,400&display=swap">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200;300;400&display=swap">
    
      <link rel="stylesheet" href="../stylesheets/dominoes-live.css">
    
      <link rel="stylesheet" href="../stylesheets/codehilite-monokai.css">
    
      <link rel="stylesheet" href="../stylesheets/mkdocs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#events-happen" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Application header -->
<header class="md-header" data-md-component="header">

  <!-- Top-level navigation -->
  <nav class="md-header-nav md-grid" aria-label="Header">

    <!-- Link to home -->
    <a
      href="https://day8.github.io/re-frame/"
      title="re-frame"
      class="md-header-nav__button md-logo"
      aria-label="re-frame"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"/></svg>

    </a>

    <!-- Button to open drawer -->
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            re-frame
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Effectful Handlers
            
          </span>
        </div>
      
    </div>

    <!-- Button to open search dialogue -->
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>

      <!-- Search interface -->
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository containing source -->
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/day8/re-frame/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    day8/re-frame
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../re-frame/" class="md-tabs__link md-tabs__link--active">
          Docs
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../FAQs/Inspecting-app-db/" class="md-tabs__link">
          FAQs
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../api-intro/" class="md-tabs__link">
          API
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../releases/2023/" class="md-tabs__link">
          Releases
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../External-Resources/" class="md-tabs__link">
          Resources
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://day8.github.io/re-frame/" title="re-frame" class="md-nav__button md-logo" aria-label="re-frame">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"/></svg>

    </a>
    re-frame
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/day8/re-frame/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    day8/re-frame
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Docs
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Docs" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../re-frame/" title="re-frame" class="md-nav__link">
      re-frame
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      THE BASICS
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="THE BASICS" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        THE BASICS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../a-loop/" title="A Data Loop" class="md-nav__link">
      A Data Loop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../application-state/" title="State" class="md-nav__link">
      State
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dominoes-30k/" title="Code" class="md-nav__link">
      Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../event-handling-infographic/" title="Infographics" class="md-nav__link">
      Infographics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../subscriptions/" title="Subscriptions" class="md-nav__link">
      Subscriptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dominoes-live/" title="Live" class="md-nav__link">
      Live
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3" checked>
    
    <label class="md-nav__link" for="nav-2-3">
      INTERMEDIATE 2 & 3
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="INTERMEDIATE 2 & 3" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        INTERMEDIATE 2 & 3
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Effectful Handlers
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Effectful Handlers" class="md-nav__link md-nav__link--active">
      Effectful Handlers
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#events-happen" class="md-nav__link">
    Events Happen
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-the-happening" class="md-nav__link">
    Handling The Happening
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-handling" class="md-nav__link">
    Your Handling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#90-solution" class="md-nav__link">
    90% Solution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bad-why" class="md-nav__link">
    Bad, Why?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-2nd-kind-of-problem" class="md-nav__link">
    The 2nd Kind Of Problem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#effects-and-coeffects" class="md-nav__link">
    Effects And Coeffects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-does-this-happen" class="md-nav__link">
    Why Does This Happen?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#doing-vs-causing" class="md-nav__link">
    Doing vs Causing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#et-tu-react" class="md-nav__link">
    Et tu, React?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pattern-structure" class="md-nav__link">
    Pattern Structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#effects-the-two-step-plan" class="md-nav__link">
    Effects: The Two Step Plan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-of-plan" class="md-nav__link">
    Step 1 Of Plan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#another-example" class="md-nav__link">
    Another Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-coeffects" class="md-nav__link">
    The Coeffects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variations-on-a-theme" class="md-nav__link">
    Variations On A Theme
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Interceptors/" title="Interceptors" class="md-nav__link">
      Interceptors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Effects/" title="Effects" class="md-nav__link">
      Effects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Coeffects/" title="Coeffects" class="md-nav__link">
      Coeffects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../review-todomvc/" title="Review TodoMVC" class="md-nav__link">
      Review TodoMVC
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      INTERMEDIATE 4,5 & 6
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="INTERMEDIATE 4,5 & 6" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        INTERMEDIATE 4,5 & 6
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../correcting-a-wrong/" title="Correcting a wrong" class="md-nav__link">
      Correcting a wrong
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../flow-mechanics/" title="Flow Mechanics" class="md-nav__link">
      Flow Mechanics
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../start-coding/" title="START CODING" class="md-nav__link">
      START CODING
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      MENTAL MODEL OMNIBUS
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="MENTAL MODEL OMNIBUS" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        MENTAL MODEL OMNIBUS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../all-models-are-wrong/" title="Other Models" class="md-nav__link">
      Other Models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../on-dynamics/" title="On Dynamics" class="md-nav__link">
      On Dynamics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../data-oriented-design/" title="Data Oriented Design" class="md-nav__link">
      Data Oriented Design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../interconnections/" title="Interconnections" class="md-nav__link">
      Interconnections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../historical/" title="Historical" class="md-nav__link">
      Historical
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7" type="checkbox" id="nav-2-7">
    
    <label class="md-nav__link" for="nav-2-7">
      MORE ADVANCED
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="MORE ADVANCED" data-md-level="2">
      <label class="md-nav__title" for="nav-2-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        MORE ADVANCED
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../on-stable-dom-handlers/" title="Stable Dom Handlers" class="md-nav__link">
      Stable Dom Handlers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../browser-dynamics/" title="Browser Dynamics" class="md-nav__link">
      Browser Dynamics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reusable-components/" title="Reusable Components" class="md-nav__link">
      Reusable Components
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../App-Structure/" title="App Structure" class="md-nav__link">
      App Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Loading-Initial-Data/" title="Loading Initial Data" class="md-nav__link">
      Loading Initial Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Talking-To-Servers/" title="Talking To Servers" class="md-nav__link">
      Talking To Servers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Subscribing-To-External-Data/" title="Subscribing to External Data" class="md-nav__link">
      Subscribing to External Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Debugging/" title="Debugging" class="md-nav__link">
      Debugging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Testing/" title="Testing" class="md-nav__link">
      Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Performance-Problems/" title="Eek! Performance Problems" class="md-nav__link">
      Eek! Performance Problems
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Solve-the-CPU-hog-problem/" title="Solve the CPU hog problem" class="md-nav__link">
      Solve the CPU hog problem
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Using-Stateful-JS-Components/" title="Using Stateful JS Components" class="md-nav__link">
      Using Stateful JS Components
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../The-re-frame-logo/" title="The Logo Backstory" class="md-nav__link">
      The Logo Backstory
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      FAQs
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="FAQs" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        FAQs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/Inspecting-app-db/" title="How can I Inspect app-db?" class="md-nav__link">
      How can I Inspect app-db?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/BestPractice/" title="What Is Best Practice?" class="md-nav__link">
      What Is Best Practice?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/LoadOnMount/" title="How Do I Load On Mount?" class="md-nav__link">
      How Do I Load On Mount?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/DoINeedReFrame/" title="Reagent looks terrific. Why do I need re-frame?" class="md-nav__link">
      Reagent looks terrific. Why do I need re-frame?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/FocusOnElement/" title="How to focus on an HTML element" class="md-nav__link">
      How to focus on an HTML element
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/GlobalInterceptors/" title="How do I register a global interceptor" class="md-nav__link">
      How do I register a global interceptor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/laggy-input/" title="Why is my input field laggy?" class="md-nav__link">
      Why is my input field laggy?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/When-Does-Dispatch-Happen/" title="How long after I do a dispatch does the event get handled?" class="md-nav__link">
      How long after I do a dispatch does the event get handled?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/UseASubscriptionInAnEventHandler/" title="How can I use a subscription in an Event Handler" class="md-nav__link">
      How can I use a subscription in an Event Handler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/Logging/" title="How do I use logging method X" class="md-nav__link">
      How do I use logging method X
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/Null-Dispatched-Events/" title="Dispatched Events Are Null" class="md-nav__link">
      Dispatched Events Are Null
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/Why-Clear-Sub-Cache/" title="Why do we need to clear the subscription cache when reloading with Figwheel?" class="md-nav__link">
      Why do we need to clear the subscription cache when reloading with Figwheel?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/CatchingEventExceptions/" title="How can I detect exceptions in Event Handlers?" class="md-nav__link">
      How can I detect exceptions in Event Handlers?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/PollADatabaseEvery60/" title="How do I turn on/off polling a database every 60 secs" class="md-nav__link">
      How do I turn on/off polling a database every 60 secs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/ViewsOnGlobalRegistration/" title="re-frame uses side-effecting registrations. Should I feel dirty?" class="md-nav__link">
      re-frame uses side-effecting registrations. Should I feel dirty?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/Why-CLJC/" title="Why is re-frame implemented in `.cljc` files" class="md-nav__link">
      Why is re-frame implemented in `.cljc` files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/DB_Normalisation/" title="How do I store normalised data in app-db?" class="md-nav__link">
      How do I store normalised data in app-db?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQs/FullStackReframe/" title="How do I do full-stack re-frame?" class="md-nav__link">
      How do I do full-stack re-frame?
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      API
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="API" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api-intro/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api-builtin-effects/" title="Builtin Effects" class="md-nav__link">
      Builtin Effects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api-re-frame.core/" title="re-frame.core" class="md-nav__link">
      re-frame.core
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Releases
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Releases" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Releases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2023/" title="2023" class="md-nav__link">
      2023
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2022/" title="2022" class="md-nav__link">
      2022
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2021/" title="2021" class="md-nav__link">
      2021
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2020/" title="2020" class="md-nav__link">
      2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2019/" title="2019" class="md-nav__link">
      2019
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2018/" title="2018" class="md-nav__link">
      2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2017/" title="2017" class="md-nav__link">
      2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2016/" title="2016" class="md-nav__link">
      2016
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/2015/" title="2015" class="md-nav__link">
      2015
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Resources
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Resources" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Resources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../External-Resources/" title="Resources" class="md-nav__link">
      Resources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#events-happen" class="md-nav__link">
    Events Happen
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-the-happening" class="md-nav__link">
    Handling The Happening
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-handling" class="md-nav__link">
    Your Handling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#90-solution" class="md-nav__link">
    90% Solution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bad-why" class="md-nav__link">
    Bad, Why?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-2nd-kind-of-problem" class="md-nav__link">
    The 2nd Kind Of Problem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#effects-and-coeffects" class="md-nav__link">
    Effects And Coeffects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-does-this-happen" class="md-nav__link">
    Why Does This Happen?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#doing-vs-causing" class="md-nav__link">
    Doing vs Causing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#et-tu-react" class="md-nav__link">
    Et tu, React?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pattern-structure" class="md-nav__link">
    Pattern Structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#effects-the-two-step-plan" class="md-nav__link">
    Effects: The Two Step Plan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-of-plan" class="md-nav__link">
    Step 1 Of Plan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#another-example" class="md-nav__link">
    Another Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-coeffects" class="md-nav__link">
    The Coeffects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variations-on-a-theme" class="md-nav__link">
    Variations On A Theme
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/day8/re-frame/edit/master/docs/EffectfulHandlers.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                  <h1>Effectful Handlers</h1>
                
                <p>This tutorial shows you how to implement pure event handlers that side-effect.
Yes, a surprising claim.</p>
<h2 id="events-happen">Events Happen<a class="headerlink" href="#events-happen" title="Permanent link">&para;</a></h2>
<p>Events "happen" when they are dispatched.</p>
<p>So, this makes an event happen:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">dispatch</span> <span class="p">[</span><span class="ss">:repair-ming-vase</span> <span class="nv">true</span><span class="p">])</span>
</code></pre></div>


<p>Events are normally triggered by an external agent: the user clicks a button, or a server-pushed
message arrives on a websocket.</p>
<h2 id="handling-the-happening">Handling The Happening<a class="headerlink" href="#handling-the-happening" title="Permanent link">&para;</a></h2>
<p>Once dispatched, an event must be "handled" - which means it must be processed or actioned.</p>
<p>Events are mutative by nature. If your application is in one state before an
event is processed, it will be in a different state afterwards.</p>
<p>And that state change is very desirable. Without the state change our
application can't incorporate that button click, or the newly arrived
websocket message. Without mutation, an app would just sit there, stuck.</p>
<p>State change is how an application "moves forward" - how it does its job.  Useful!</p>
<p>On the other hand, control logic and state mutation tend to be the most
complex and error prone part of an app.</p>
<h2 id="your-handling">Your Handling<a class="headerlink" href="#your-handling" title="Permanent link">&para;</a></h2>
<p>To help wrangle this potential complexity, re-frame's introduction
provided you with a simple programming model.</p>
<p>It said you should call <code>reg-event-db</code> to associate an event id,
with a function to do the handling:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">re-frame.core/reg-event-db</span>        <span class="c1">;; &lt;-- call this to register a handler</span>
    <span class="ss">:set-flag</span>                      <span class="c1">;; this is an event id</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">db</span> <span class="p">[</span><span class="nv">_</span> <span class="nv">new-value</span><span class="p">]]</span>          <span class="c1">;; this function does the handling</span>
      <span class="p">(</span><span class="nb">assoc </span><span class="nv">db</span> <span class="ss">:flag</span> <span class="nv">new-value</span><span class="p">)))</span>
</code></pre></div>


<p>The function you register, handles events with a given <code>id</code>.</p>
<p>And that handler <code>fn</code> is expected to be pure. Given the
value in <code>app-db</code> as the first argument, and the event (vector)
as the second argument, it is expected to provide a new value for <code>app-db</code>.</p>
<p>Data in, a computation and data out. Pure.</p>
<h2 id="90-solution">90% Solution<a class="headerlink" href="#90-solution" title="Permanent link">&para;</a></h2>
<p>This paradigm provides a lovely solution 90% of the time, but there are times
when it isn't enough.</p>
<p>Here's an example from the messy 10%. To get its job done, this handler has to side effect:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-db</span>
   <span class="ss">:my-event</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">db</span> <span class="p">[</span><span class="nv">_</span> <span class="nv">bool</span><span class="p">]]</span>
       <span class="p">(</span><span class="nf">dispatch</span> <span class="p">[</span><span class="ss">:do-something-else</span> <span class="mi">3</span><span class="p">])</span>    <span class="c1">;; oops, side-effect</span>
       <span class="p">(</span><span class="nb">assoc </span><span class="nv">db</span> <span class="ss">:send-spam</span> <span class="nv">new-val</span><span class="p">)))</span>
</code></pre></div>


<p>That <code>dispatch</code> queues up another event to be processed. It changes the world.</p>
<p>Just to be clear, this code works.  The handler returns a new version of <code>db</code>, so tick,
and that <code>dispatch</code> will itself be "handled" asynchronously
very shortly after this handler finishes, double tick.</p>
<p>So, you can "get away with it".  But it ain't pure.</p>
<p>And here's more carnage:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-db</span>
   <span class="ss">:my-event</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">db</span> <span class="p">[</span><span class="nv">_</span> <span class="nv">a</span><span class="p">]]</span>
       <span class="p">(</span><span class="nf">GET</span> <span class="s">&quot;http://json.my-endpoint.com/blah&quot;</span>   <span class="c1">;; dirty great big side-effect</span>
            <span class="p">{</span><span class="ss">:handler</span>       <span class="o">#</span><span class="p">(</span><span class="nf">dispatch</span> <span class="p">[</span><span class="ss">:process-response</span> <span class="nv">%1</span><span class="p">])</span>
             <span class="ss">:error-handler</span> <span class="o">#</span><span class="p">(</span><span class="nf">dispatch</span> <span class="p">[</span><span class="ss">:bad-response</span> <span class="nv">%1</span><span class="p">])})</span>
       <span class="p">(</span><span class="nb">assoc </span><span class="nv">db</span> <span class="ss">:flag</span> <span class="nv">true</span><span class="p">)))</span>
</code></pre></div>


<p>Again, this approach will work. But that dirty great big side-effect doesn't come
for free. It's like a muddy monster truck has shown up in our field of white tulips.</p>
<h2 id="bad-why">Bad, Why?<a class="headerlink" href="#bad-why" title="Permanent link">&para;</a></h2>
<p>The moment we stop writing pure functions there are well documented
consequences:</p>
<ol>
<li>Cognitive load for the function's later readers goes up because they can no longer reason locally.</li>
<li>Testing becomes more difficult and involves "mocking".  How do we test that the http GET above is
     using the right URL?  "mocking" should be mocked. It is a bad omen.</li>
<li>And event replay-ability is lost.</li>
</ol>
<p>Regarding the 3rd point above, a re-frame application proceeds step by step, like a reduce. From the README:</p>
<blockquote>
<p>at any one time, the value in app-db is the result of performing a reduce over the entire
collection of events dispatched in the app up until that time. The combining
function for this reduce is the set of registered event handlers.</p>
</blockquote>
<p>Such a collection of events is replay-able which is a dream for debugging and testing. But only
when all the handlers are pure. Handlers with side-effects (like that HTTP GET, or the <code>dispatch</code>) pollute the
replay, inserting extra events into it, etc., which ruins the process.</p>
<h2 id="the-2nd-kind-of-problem">The 2nd Kind Of Problem<a class="headerlink" href="#the-2nd-kind-of-problem" title="Permanent link">&para;</a></h2>
<p>And there's the other kind of purity problem:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-db</span>
   <span class="ss">:load-localstore</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">db</span> <span class="nv">_</span><span class="p">]</span>
     <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nb">val </span><span class="p">(</span><span class="nf">js-&gt;clj</span> <span class="p">(</span><span class="nf">.getItem</span> <span class="nv">js/localStorage</span> <span class="s">&quot;defaults-key&quot;</span><span class="p">))]</span>  <span class="c1">;; &lt;-- Problem</span>
       <span class="p">(</span><span class="nb">assoc </span><span class="nv">db</span> <span class="ss">:defaults</span> <span class="nv">val</span><span class="p">))))</span>
</code></pre></div>


<p>You'll notice the event handler obtains data from LocalStore.</p>
<p>Although this handler has no side effect - it doesn't need to change the world - that action of
obtaining data from somewhere other than its arguments, means it isn't pure.</p>
<h2 id="effects-and-coeffects">Effects And Coeffects<a class="headerlink" href="#effects-and-coeffects" title="Permanent link">&para;</a></h2>
<p>When striving for pure event handlers <a href="http://tomasp.net/blog/2014/why-coeffects-matter/">there are two considerations</a>:</p>
<ul>
<li><strong>Effects</strong> - what your event handler does to the world  (aka side-effects)</li>
<li><strong>Coeffects</strong> - the data your event handler requires from the world in order
    to do its computation (aka <a href="http://blog.jenkster.com/2015/12/what-is-functional-programming.html">side-causes</a>)</li>
</ul>
<p>We'll need a solution for both.</p>
<h2 id="why-does-this-happen">Why Does This Happen?<a class="headerlink" href="#why-does-this-happen" title="Permanent link">&para;</a></h2>
<p>It is inevitable that, say, 10% of your event handlers have effects and coeffects.</p>
<p>They have to implement the control logic of your re-frame app, which
means dealing with the outside, mutative world of servers, databases,
window.location, LocalStore, cookies, etc.</p>
<p>There's just no getting away from living in a mutative world, which sounds pretty ominous. Is that it? Are we doomed to impurity?</p>
<p>Well, luckily a small twist in the tale makes a profound difference. We
will look at side-effects first. Instead of creating event handlers
which <em>do side-effects</em>, we'll instead get them to <em>cause side-effects</em>.</p>
<h2 id="doing-vs-causing">Doing vs Causing<a class="headerlink" href="#doing-vs-causing" title="Permanent link">&para;</a></h2>
<p>I proudly claim that this event handler is pure:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-db</span>
   <span class="ss">:my-event</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">db</span> <span class="nv">_</span><span class="p">]</span>
      <span class="p">(</span><span class="nb">assoc </span><span class="nv">db</span> <span class="ss">:flag</span> <span class="nv">true</span><span class="p">)))</span>
</code></pre></div>


<p>Takes a <code>db</code> value, computes and returns a <code>db</code> value. No coeffects or effects. Yep, that's Pure!</p>
<p>Yes, all true, but ... this purity is only possible because re-frame is doing
the necessary side-effecting.</p>
<p>Wait on.  What "necessary side-effecting"?</p>
<p>Well, application state is stored in <code>app-db</code>, right?  And it is a ratom. And after
each event handler runs, it must be <code>reset!</code> to the newly returned
value. Notice <code>reset!</code>.   That, right there, is the "necessary side effecting".</p>
<p>We get to live in our ascetic functional world because re-frame is
looking after the "necessary side-effects" on <code>app-db</code>.</p>
<h2 id="et-tu-react">Et tu, React?<a class="headerlink" href="#et-tu-react" title="Permanent link">&para;</a></h2>
<p>Turns out it's the same pattern with Reagent/React.</p>
<p>We get to write a nice pure component, like:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="kd">defn </span><span class="nv">say-hi</span>
  <span class="p">[</span><span class="nv">name</span><span class="p">]</span>
  <span class="p">[</span><span class="ss">:div</span> <span class="s">&quot;Hello &quot;</span> <span class="nv">name</span><span class="p">])</span>
</code></pre></div>


<p>and Reagent/React mutates the DOM for us. The framework is looking
after the "necessary side-effects".</p>
<h2 id="pattern-structure">Pattern Structure<a class="headerlink" href="#pattern-structure" title="Permanent link">&para;</a></h2>
<p>Pause and look back at <code>say-hi</code>. I'd like you to view it through the
following lens:  it is a pure function which <strong>returns a description
of the side-effects required</strong>. It says: add a div element to the DOM.</p>
<p>Notice that the description is declarative. We don't tell React how to do it.</p>
<p>Notice also that it is data. Hiccup is just vectors and maps.</p>
<p>This is a big, important concept.  While we can't get away from certain side-effects, we can
program using pure functions which <strong>describe side-effects, declaratively, in data</strong> and
let the backing framework look after the "doing" of them. Efficiently. Discreetly.</p>
<p>Let's use this pattern to solve the side-effecting event-handler problem.</p>
<h2 id="effects-the-two-step-plan">Effects: The Two Step Plan<a class="headerlink" href="#effects-the-two-step-plan" title="Permanent link">&para;</a></h2>
<p>From here, two steps:</p>
<ol>
<li>Work out how event handlers can declaratively describe side-effects, in data.</li>
<li>Work out how re-frame can do the "necessary side-effecting". Efficiently and discreetly.</li>
</ol>
<h2 id="step-1-of-plan">Step 1 Of Plan<a class="headerlink" href="#step-1-of-plan" title="Permanent link">&para;</a></h2>
<p>So, how would it look if event handlers returned side-effects, declaratively, in data?</p>
<p>Here is an impure, side effecting handler:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-db</span>
   <span class="ss">:my-event</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">db</span> <span class="p">[</span><span class="nv">_</span> <span class="nv">a</span><span class="p">]]</span>
       <span class="p">(</span><span class="nf">dispatch</span> <span class="p">[</span><span class="ss">:do-something-else</span> <span class="mi">3</span><span class="p">])</span>    <span class="c1">;; &lt;-- Eeek, side-effect</span>
       <span class="p">(</span><span class="nb">assoc </span><span class="nv">db</span> <span class="ss">:flag</span> <span class="nv">true</span><span class="p">)))</span>
</code></pre></div>


<p>Here it is re-written so as to be pure:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-fx</span>                              <span class="c1">;; &lt;1&gt;</span>
   <span class="ss">:my-event</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[{</span><span class="ss">:keys</span> <span class="p">[</span><span class="nv">db</span><span class="p">]}</span> <span class="p">[</span><span class="nv">_</span> <span class="nv">a</span><span class="p">]]</span>                <span class="c1">;; &lt;2&gt;</span>
      <span class="p">{</span><span class="ss">:db</span>  <span class="p">(</span><span class="nb">assoc </span><span class="nv">db</span> <span class="ss">:flag</span> <span class="nv">true</span><span class="p">)</span>          <span class="c1">;; &lt;3&gt;</span>
       <span class="ss">:dispatch</span> <span class="p">[</span><span class="ss">:do-something-else</span> <span class="mi">3</span><span class="p">]}))</span>
</code></pre></div>


<p>Notes: <br>
<em>&lt;1&gt;</em> we're using <code>reg-event-fx</code> instead of <code>reg-event-db</code> to register  (that's <code>-db</code> vs <code>-fx</code>) <br>
<em>&lt;2&gt;</em> the first parameter is no longer just <code>db</code>.  It is a map from which
<a href="http://clojure.org/guides/destructuring">we are destructuring db</a>, i.e.
it is a map which contains a <code>:db</code> key. <br>
<em>&lt;3&gt;</em> The handler is returning a data structure (map) which describes two side-effects:</p>
<ul>
<li>a change to application state, via the <code>:db</code> key</li>
<li>a further event, via the <code>:dispatch</code> key</li>
</ul>
<p>Above, the impure handler <strong>did</strong> a <code>dispatch</code> side-effect, while the pure handler <strong>described</strong>
a <code>dispatch</code> side-effect.</p>
<h2 id="another-example">Another Example<a class="headerlink" href="#another-example" title="Permanent link">&para;</a></h2>
<p>The impure way:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-db</span>
   <span class="ss">:my-event</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">db</span> <span class="p">[</span><span class="nv">_</span> <span class="nv">a</span><span class="p">]]</span>
       <span class="p">(</span><span class="nf">GET</span> <span class="s">&quot;http://json.my-endpoint.com/blah&quot;</span>   <span class="c1">;; dirty great big side-effect</span>
            <span class="p">{</span><span class="ss">:handler</span>       <span class="o">#</span><span class="p">(</span><span class="nf">dispatch</span> <span class="p">[</span><span class="ss">:process-response</span> <span class="nv">%1</span><span class="p">])</span>
             <span class="ss">:error-handler</span> <span class="o">#</span><span class="p">(</span><span class="nf">dispatch</span> <span class="p">[</span><span class="ss">:bad-response</span> <span class="nv">%1</span><span class="p">])})</span>
       <span class="p">(</span><span class="nb">assoc </span><span class="nv">db</span> <span class="ss">:flag</span> <span class="nv">true</span><span class="p">)))</span>
</code></pre></div>


<p>the pure, descriptive alternative:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-fx</span>
   <span class="ss">:my-event</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[{</span><span class="ss">:keys</span> <span class="p">[</span><span class="nv">db</span><span class="p">]}</span> <span class="p">[</span><span class="nv">_</span> <span class="nv">a</span><span class="p">]]</span>
       <span class="p">{</span><span class="ss">:http</span> <span class="p">{</span><span class="ss">:method</span> <span class="ss">:get</span>
               <span class="ss">:url</span>    <span class="s">&quot;http://json.my-endpoint.com/blah&quot;</span>
               <span class="ss">:on-success</span>  <span class="p">[</span><span class="ss">:process-blah-response</span><span class="p">]</span>
               <span class="ss">:on-fail</span>     <span class="p">[</span><span class="ss">:failed-blah</span><span class="p">]}</span>
        <span class="ss">:db</span>   <span class="p">(</span><span class="nb">assoc </span><span class="nv">db</span> <span class="ss">:flag</span> <span class="nv">true</span><span class="p">)}))</span>
</code></pre></div>


<p>Again, the old way <strong>did</strong> a side-effect (Booo!) and the new way <strong>describes</strong>, declaratively,
in data, the side-effects required (Yaaa!).</p>
<p>More on side effects in a minute, but let's double back to coeffects.</p>
<h2 id="the-coeffects">The Coeffects<a class="headerlink" href="#the-coeffects" title="Permanent link">&para;</a></h2>
<p>So far we've written our new style <code>-fx</code> handlers like this:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-fx</span>
   <span class="ss">:my-event</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[{</span><span class="ss">:keys</span> <span class="p">[</span><span class="nv">db</span><span class="p">]}</span> <span class="nv">event</span><span class="p">]</span>   <span class="c1">;; &lt;--  destructuring to get db</span>
       <span class="p">{</span> <span class="nv">...</span> <span class="p">}))</span>
</code></pre></div>


<p>It is now time to name that first argument:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-fx</span>
   <span class="ss">:my-event</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">cofx</span> <span class="nv">event</span><span class="p">]</span>       <span class="c1">;;  &lt;--- thy name be cofx</span>
       <span class="p">{</span> <span class="nv">...</span> <span class="p">}))</span>
</code></pre></div>


<p>When you use the <code>-fx</code> form of registration, the first argument
of your handler will be a map of coeffects which we name <code>cofx</code>.</p>
<p>In that map will be the complete set of "inputs" required by your function.  The complete
set of computational resources (data) needed to perform its computation. But how?
This will be explained in an upcoming tutorial, I promise, but for the moment,
take it as a magical given.</p>
<p>One of the keys in <code>cofx</code> will likely be <code>:db</code> and that will be the value of <code>app-db</code>.</p>
<p>Remember this impure handler from before:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-db</span>            <span class="c1">;;  a -db registration</span>
 <span class="ss">:load-localstore</span>
 <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">db</span> <span class="nv">_</span><span class="p">]</span>              <span class="c1">;; db first argument</span>
  <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">defaults</span> <span class="p">(</span><span class="nf">js-&gt;clj</span> <span class="p">(</span><span class="nf">.getItem</span> <span class="nv">js/localStorage</span> <span class="s">&quot;defaults-key&quot;</span><span class="p">))]</span>  <span class="c1">;; &lt;--  Eeek!!</span>
    <span class="p">(</span><span class="nb">assoc </span><span class="nv">db</span> <span class="ss">:defaults</span> <span class="nv">defaults</span><span class="p">))))</span>
</code></pre></div>


<p>It was impure because it obtained an input from other than its arguments.
We'd now rewrite it as a pure handler, like this:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-fx</span>             <span class="c1">;; notice the -fx</span>
   <span class="ss">:load-localstore</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">cofx</span>  <span class="nv">_</span><span class="p">]</span>          <span class="c1">;; cofx is a map containing inputs</span>
     <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">defaults</span> <span class="p">(</span><span class="ss">:local-store</span> <span class="nv">cofx</span><span class="p">)]</span>  <span class="c1">;; &lt;--  use it here</span>
       <span class="p">{</span><span class="ss">:db</span> <span class="p">(</span><span class="nb">assoc </span><span class="p">(</span><span class="ss">:db</span> <span class="nv">cofx</span><span class="p">)</span> <span class="ss">:defaults</span> <span class="nv">defaults</span><span class="p">)})))</span>  <span class="c1">;; returns effects map</span>
</code></pre></div>


<p>So, by some magic, not yet revealed, LocalStore will be queried before
this handler runs and the required value from it will be placed into
<code>cofx</code> under the key <code>:local-store</code> for the handler to use.</p>
<p>That process leaves the handler itself pure because it only sources
data from arguments.</p>
<h2 id="variations-on-a-theme">Variations On A Theme<a class="headerlink" href="#variations-on-a-theme" title="Permanent link">&para;</a></h2>
<p><code>-db</code> handlers and <code>-fx</code> handlers are conceptually the same. They only differ numerically.</p>
<p><code>-db</code> handlers take <strong>one</strong> coeffect called <code>db</code>, and they return only <strong>one</strong>  effect (db again).</p>
<p>Whereas <code>-fx</code> handlers take potentially <strong>many</strong> coeffects (a map of them) and they return
potentially <strong>many</strong> effects (a map of them). So, One vs Many.</p>
<p>Just to be clear, the following two handlers achieve the same thing:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-db</span>
   <span class="ss">:set-flag</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">db</span> <span class="p">[</span><span class="nv">_</span> <span class="nv">new-value</span><span class="p">]]</span>
      <span class="p">(</span><span class="nb">assoc </span><span class="nv">db</span> <span class="ss">:flag</span> <span class="nv">new-value</span><span class="p">)))</span>
</code></pre></div>


<p>vs</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nf">reg-event-fx</span>
   <span class="ss">:set-flag</span>
   <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">cofx</span> <span class="p">[</span><span class="nv">_</span> <span class="nv">new-value</span><span class="p">]]</span>
      <span class="p">{</span><span class="ss">:db</span> <span class="p">(</span><span class="nb">assoc </span><span class="p">(</span><span class="ss">:db</span> <span class="nv">cofx</span><span class="p">)</span> <span class="ss">:flag</span> <span class="nv">new-value</span><span class="p">)}))</span>
</code></pre></div>


<p>Obviously the <code>-db</code> variation is simpler and you'd use it whenever you
can. The <code>-fx</code> version is more flexible, so it will sometimes have its place.</p>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>90% of the time, simple <code>-db</code> handlers are the right tool to use.</p>
<p>But about 10% of the time, our handlers need additional inputs (coeffects) or they need to
cause additional side-effects (effects).  That's when you reach for <code>-fx</code> handlers.</p>
<p><code>-fx</code> handlers allow us to return effects, declaratively in data.</p>
<p>In the next tutorial, we'll shine a light on <code>interceptors</code> which are
the mechanism by which  event handlers are executed. That knowledge will give us a springboard
to then, as a next step, better understand coeffects and effects. We'll soon be writing our own.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
    <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Application footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <div class="md-footer-nav">
      <nav
        class="md-footer-nav__inner md-grid"
        aria-label="Footer"
      >

        <!-- Link to previous page -->
        
          <a
            href="../dominoes-live/"
            title="Live"
            class="md-footer-nav__link md-footer-nav__link--prev"
            rel="prev"
          >
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Live
              </div>
            </div>
          </a>
        

        <!-- Link to next page -->
        
          <a
            href="../Interceptors/"
            title="Interceptors"
            class="md-footer-nav__link md-footer-nav__link--next"
            rel="next"
          >
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Interceptors
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2015-2021 Michael Thompson
          </div>
        
      </div>

      <!-- Social links -->
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/day8" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/wazound" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
    <script src="/re-frame/js/docs.js"></script>

    </div>
    
      <script src="../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>